@model MVC.Models.ReviewCreateModel

@{
    ViewBag.Title = "Create";
}

@section Styles {
    <link href="~/Content/RatingStars.css" rel="stylesheet" type="text/css" />
}

@*<h2>Create</h2>*@


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        @*<h4>Review</h4>*@
        <hr />
        @*<p class="text-danger">@ViewBag.Error</p>*@
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.Rating, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-10" id="ratingStars">
                        @*@Html.DropDownList("Rating", new SelectList(ViewBag.RatingRange), "Select Rating")*@
                            @Html.HiddenFor(model => model.Rating)
                        <fieldset class="rating">
                            <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
                            <input type="radio" id="star4half" name="rating" value="4 and a half" /><label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
                            <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>
                            <input type="radio" id="star3half" name="rating" value="3 and a half" /><label class="half" for="star3half" title="Meh - 3.5 stars"></label>
                            <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="Meh - 3 stars"></label>
                            <input type="radio" id="star2half" name="rating" value="2 and a half" /><label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
                            <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>
                            <input type="radio" id="star1half" name="rating" value="1 and a half" /><label class="half" for="star1half" title="Kinda bad - 1.5 stars"></label>
                            <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Horrible - 1 star"></label>
                            <input type="radio" id="starhalf" name="rating" value="half" /><label class="half" for="starhalf" title="Horrible - 0.5 stars"></label>
                        </fieldset>
                    </div>

        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Comment, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Comment, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Comment, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Username, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Username, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Username, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" onclick="GetRating()"/>
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<script type="text/javascript">
    function GetRating(){
        var rating = $('#ratingStars fieldset input');
            if ($(rating[0]).is(":checked")) {
                $('#Rating').val(5);
            }
            if ($(rating[1]).is(":checked")) {
                $('#Rating').val(4.50);
            }
            if ($(rating[2]).is(":checked")) {
                $('#Rating').val(4);
            }
            if ($(rating[3]).is(":checked")) {
                $('#Rating').val(3.50);
            }
            if ($(rating[4]).is(":checked")) {
                $('#Rating').val(3);
            }
            if ($(rating[5]).is(":checked")) {
                $('#Rating').val(2.50);
            }
            if ($(rating[6]).is(":checked")) {
                $('#Rating').val(2);
            }
            if ($(rating[7]).is(":checked")) {
                $('#Rating').val(1.50);
            }
            if ($(rating[8]).is(":checked")) {
                $('#Rating').val(1);
            }
            if ($(rating[9]).is(":checked")) {
                $('#Rating').val(0.50);
            }
    }
</script>